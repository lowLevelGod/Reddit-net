@using RedditNet.Models
@model RedditNet.Models.SubRedditModel.SubRedditPostsModel

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    <h1><a href='@Url.ActionLink("Index", "Home")'>Front Page</a></h1>
    var posts = Model.Posts;
    <h1>@Model.Name</h1>
    <p>Description: <b>@Model.Description</b></p>

    <a href="@Url.RouteUrl("EditSub", new {subId = Model.Id})">Edit</a>

    <a href="@Url.RouteUrl("DeleteSub", new {subId = Model.Id})">Delete</a>

    <p> <a href="/@Model.Id/posts/create">Create a new Post</a>.</p>

    <h2>Posts below</h2>

    foreach (var p in posts)
    {
    <h1><a href="/@Model.Id/posts/@p.Id/comments">@p.Title</a></h1>
    <p>Posted by: @p.UserName</p>
        <p>Votes: @p.Votes</p>
    }

}


@if (ViewBag.Page > 0)
{
    <a href="@Url.RouteUrl("ShowSubPosts", new {subId = Model.Id, start = ViewBag.Page - 1})"
   class="btn btn-default">
        &laquo; Prev
    </a>
}

    <a href="@Url.RouteUrl("ShowSubPosts", new {subId = Model.Id, start = ViewBag.Page + 1})"
   class="btn btn-default">
        Next &raquo;
    </a>

